---
interface Props {
  review: {
    id: number;
    title: string;
    description: string;
    suitable: boolean;
    restaurantId: number;
  };
  user: {
    id: number;
  };
  modalId: string;
}

const { review, user, modalId } = Astro.props;
---
<div
  id={modalId}
  tabindex="-1"
  aria-hidden="true"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"
>
  <div class="relative p-4 w-full max-w-md">
    <div class="bg-white p-8 rounded-lg shadow-xl">
      
      <!-- Modal Header -->
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Añadir Reseña</h2>
        <button
        type="button"
        data-modal-hide={modalId}
          class="text-gray-600 hover:text-gray-800 text-2xl font-bold"
        >
          ×
        </button>
      </div>
      <!-- Modal Body -->
      <form method="post" action={`/user/reviews/${review.id}`} id="update_review">
        <input type="hidden" name="formId" value="update_review" />
        <input type="hidden" name="review_id" value={review.id} />
        <input type="hidden" name="user_id" value={user.id} />
        <!-- Título -->
        <div class="mb-4">
          <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Título:</label>
          <input
          type="text"
          id="title"
          name="title"
          value={review.title}
          required
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500"
          />
        </div>

        <!-- Describe tu experiencia -->
        <div class="mb-4">
          <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Describe tu experiencia:</label>
          <textarea
          id="description"
          name="description"
          rows="4"
          required
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500"
          > {review.description}</textarea>
        </div>

        <!-- ¿Menú adecuado a tu situación? -->
        <div class="mb-6">
          <p class="block text-sm font-medium text-gray-700 mb-2">¿Menú adecuado a tu situación?</p>
          <div class="flex items-center space-x-4">
            <div class="flex items-center">
              <input
              id="suitable-yes"
              name="suitable"
              type="radio"
              value="true" checked={review.suitable}
                class="focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300"
              />
              <label for="suitable-yes" class="ml-2 block text-sm text-gray-900">Sí</label>
            </div>
            <div class="flex items-center">
              <input
              id="suitable-no"
              name="suitable"
              type="radio"
              value="false" checked={!review.suitable}
                class="focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300"
              />
              <label for="suitable-no" class="ml-2 block text-sm text-gray-900">No</label>
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-center">
          <button
            type="submit"
            class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-12 rounded-full shadow-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50"
          >
            Enviar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
