---
import User from "@/components/admin/usuarios/user.astro";
import LayoutAdmin from "@/layouts/LayoutAdmin.astro";
import { findUser } from "@/repository/users";

// Obtiene el id del usuario
const { id } = Astro.params;
const {userId} = Astro.props;

if (!id || isNaN(Number(id))) {
  console.error(`ID inv√°lido recibido en params: ${id}`);
  return Astro.redirect("/404");
}

const user = await findUser(+id!);
if (!user) {
  return Astro.redirect("/404"); 
}

---
<LayoutAdmin >
    <User user={user} userId={user.id} >
</LayoutAdmin>   